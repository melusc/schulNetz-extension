(()=>{"use strict";var e,t,n,r,o,i,l={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function u(e,t){for(var n in t)e[n]=t[n];return e}function c(e){var t=e.parentNode;t&&t.removeChild(e)}function _(t,n,r){var o,i,l,s={};for(l in n)"key"==l?o=n[l]:"ref"==l?i=n[l]:s[l]=n[l];if(arguments.length>2&&(s.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===s[l]&&(s[l]=t.defaultProps[l]);return f(t,s,o,i,null)}function f(e,r,o,i,l){var s={type:e,props:r,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==l?++n:l};return null!=t.vnode&&t.vnode(s),s}function p(e){return e.children}function d(e,t){this.props=e,this.context=t}function h(e,t){if(null==t)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?h(e):null}function v(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return v(e)}}function g(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!y.__r++||i!==t.debounceRendering)&&((i=t.debounceRendering)||o)(y)}function y(){for(var e;y.__r=r.length;)e=r.sort((function(e,t){return e.__v.__b-t.__v.__b})),r=[],e.some((function(e){var t,n,r,o,i,l;e.__d&&(i=(o=(t=e).__v).__e,(l=t.__P)&&(n=[],(r=u({},o)).__v=o.__v+1,A(l,o,r,t.__n,void 0!==l.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?h(o):i,o.__h),C(n,o),o.__e!=i&&v(o)))}))}function m(e,t,n,r,o,i,a,u,c,_){var d,v,g,y,m,w,O,S=r&&r.__k||s,j=S.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(y=n.__k[d]=null==(y=t[d])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?f(null,y,null,null,y):Array.isArray(y)?f(p,{children:y},null,null,null):y.__b>0?f(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(g=S[d])||g&&y.key==g.key&&y.type===g.type)S[d]=void 0;else for(v=0;v<j;v++){if((g=S[v])&&y.key==g.key&&y.type===g.type){S[v]=void 0;break}g=null}A(e,y,g=g||l,o,i,a,u,c,_),m=y.__e,(v=y.ref)&&g.ref!=v&&(O||(O=[]),g.ref&&O.push(g.ref,null,y),O.push(v,y.__c||m,y)),null!=m?(null==w&&(w=m),"function"==typeof y.type&&null!=y.__k&&y.__k===g.__k?y.__d=c=b(y,c,e):c=k(e,y,g,S,m,c),_||"option"!==n.type?"function"==typeof n.type&&(n.__d=c):e.value=""):c&&g.__e==c&&c.parentNode!=e&&(c=h(g))}for(n.__e=w,d=j;d--;)null!=S[d]&&("function"==typeof n.type&&null!=S[d].__e&&S[d].__e==n.__d&&(n.__d=h(r,d+1)),R(S[d],S[d]));if(O)for(d=0;d<O.length;d++)E(O[d],O[++d],O[++d])}function b(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,t="function"==typeof o.type?b(o,t,n):k(n,o,o,e.__k,o.__e,t));return t}function w(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){w(e,t)})):t.push(e)),t}function k(e,t,n,r,o,i){var l,s,a;if(void 0!==t.__d)l=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),l=null;else{for(s=i,a=0;(s=s.nextSibling)&&a<r.length;a+=2)if(s==o)break e;e.insertBefore(o,i),l=i}return void 0!==l?l:o.nextSibling}function O(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||a.test(t)?n:n+"px"}function S(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||O(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||O(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?P:j,i):e.removeEventListener(t,i?P:j,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function j(e){this.l[e.type+!1](t.event?t.event(e):e)}function P(e){this.l[e.type+!0](t.event?t.event(e):e)}function A(e,n,r,o,i,l,s,a,c){var _,f,h,v,g,y,b,w,k,O,S,j=n.type;if(void 0!==n.constructor)return null;null!=r.__h&&(c=r.__h,a=n.__e=r.__e,n.__h=null,l=[a]),(_=t.__b)&&_(n);try{e:if("function"==typeof j){if(w=n.props,k=(_=j.contextType)&&o[_.__c],O=_?k?k.props.value:_.__:o,r.__c?b=(f=n.__c=r.__c).__=f.__E:("prototype"in j&&j.prototype.render?n.__c=f=new j(w,O):(n.__c=f=new d(w,O),f.constructor=j,f.render=M),k&&k.sub(f),f.props=w,f.state||(f.state={}),f.context=O,f.__n=o,h=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=u({},f.__s)),u(f.__s,j.getDerivedStateFromProps(w,f.__s))),v=f.props,g=f.state,h)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&w!==v&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(w,O),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(w,f.__s,O)||n.__v===r.__v){f.props=w,f.state=f.__s,n.__v!==r.__v&&(f.__d=!1),f.__v=n,n.__e=r.__e,n.__k=r.__k,n.__k.forEach((function(e){e&&(e.__=n)})),f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(w,f.__s,O),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(v,g,y)}))}f.context=O,f.props=w,f.state=f.__s,(_=t.__r)&&_(n),f.__d=!1,f.__v=n,f.__P=e,_=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(o=u(u({},o),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(v,g)),S=null!=_&&_.type===p&&null==_.key?_.props.children:_,m(e,Array.isArray(S)?S:[S],n,r,o,i,l,s,a,c),f.base=n.__e,n.__h=null,f.__h.length&&s.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==l&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=x(r.__e,n,r,o,i,l,s,c);(_=t.diffed)&&_(n)}catch(e){n.__v=null,(c||null!=l)&&(n.__e=a,n.__h=!!c,l[l.indexOf(a)]=null),t.__e(e,n,r)}}function C(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function x(t,n,r,o,i,s,a,u){var _,f,p,d=r.props,v=n.props,g=n.type,y=0;if("svg"===g&&(i=!0),null!=s)for(;y<s.length;y++)if((_=s[y])&&(_===t||(g?_.localName==g:3==_.nodeType))){t=_,s[y]=null;break}if(null==t){if(null===g)return document.createTextNode(v);t=i?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,v.is&&v),s=null,u=!1}if(null===g)d===v||u&&t.data===v||(t.data=v);else{if(s=s&&e.call(t.childNodes),f=(d=r.props||l).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,!u){if(null!=s)for(d={},y=0;y<t.attributes.length;y++)d[t.attributes[y].name]=t.attributes[y].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||S(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||S(e,i,t[i],n[i],r)}(t,v,d,i,u),p)n.__k=[];else if(y=n.props.children,m(t,Array.isArray(y)?y:[y],n,r,o,i&&"foreignObject"!==g,s,a,s?s[0]:r.__k&&h(r,0),u),null!=s)for(y=s.length;y--;)null!=s[y]&&c(s[y]);u||("value"in v&&void 0!==(y=v.value)&&(y!==t.value||"progress"===g&&!y)&&S(t,"value",y,d.value,!1),"checked"in v&&void 0!==(y=v.checked)&&y!==t.checked&&S(t,"checked",y,d.checked,!1))}return t}function E(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function R(e,n,r){var o,i;if(t.unmount&&t.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||E(o,null,n)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){t.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&R(o[i],n,"function"!=typeof e.type);r||null==e.__e||c(e.__e),e.__e=e.__d=void 0}function M(e,t,n){return this.constructor(e,n)}function U(n,r,o){var i,s,a;t.__&&t.__(n,r),s=(i="function"==typeof o)?null:o&&o.__k||r.__k,a=[],A(r,n=(!i&&o||r).__k=_(p,null,[n]),s||l,l,void 0!==r.ownerSVGElement,!i&&o?[o]:s?null:r.firstChild?e.call(r.childNodes):null,a,!i&&o?o:s?s.__e:r.firstChild,i),C(a,n)}function D(t,n,r){var o,i,l,s=u({},t.props);for(l in n)"key"==l?o=n[l]:"ref"==l?i=n[l]:s[l]=n[l];return arguments.length>2&&(s.children=arguments.length>3?e.call(arguments,2):r),f(t.type,s,o||t.key,i||t.ref,null)}e=s.slice,t={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},n=0,d.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=u({},this.state),"function"==typeof e&&(e=e(u({},n),this.props)),e&&u(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),g(this))},d.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},d.prototype.render=p,r=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y.__r=0;var N=0;function F(e,n,r,o,i){var l,s,a={};for(s in n)"ref"==s?l=n[s]:a[s]=n[s];var u={type:e,props:a,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--N,__source:o,__self:i};if("function"==typeof e&&(l=e.defaultProps))for(s in l)void 0===a[s]&&(a[s]=l[s]);return t.vnode&&t.vnode(u),u}var H={};function T(e,t){for(var n in t)e[n]=t[n];return e}function W(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),l={};if(i&&i[1])for(var s=i[1].split("&"),a=0;a<s.length;a++){var u=s[a].split("=");l[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=$(e.replace(o,"")),t=$(t||"");for(var c=Math.max(e.length,t.length),_=0;_<c;_++)if(t[_]&&":"===t[_].charAt(0)){var f=t[_].replace(/(^:|[+*?]+$)/g,""),p=(t[_].match(/[+*?]+$/)||H)[0]||"",d=~p.indexOf("+"),h=~p.indexOf("*"),v=e[_]||"";if(!v&&!h&&(p.indexOf("?")<0||d)){r=!1;break}if(l[f]=decodeURIComponent(v),d||h){l[f]=e.slice(_).map(decodeURIComponent).join("/");break}}else if(t[_]!==e[_]){r=!1;break}return(!0===n.default||!1!==r)&&l}function L(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function I(e,t){return e.index=t,e.rank=function(e){return e.props.default?0:(t=e.props.path,$(t).map(K).join(""));var t}(e),e.props}function $(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function K(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var z=null,V=[],q=[],B={};function G(){var e;return""+((e=z&&z.location?z.location:z&&z.getCurrentLocation?z.getCurrentLocation():"undefined"!=typeof location?location:B).pathname||"")+(e.search||"")}function Y(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=V.length;t--;)if(V[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),z&&z[t]?z[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),Z(e)}function Z(e){for(var t=!1,n=0;n<V.length;n++)!0===V[n].routeTo(e)&&(t=!0);for(var r=q.length;r--;)q[r](e);return t}function J(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return Y(t)}}function Q(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button))return J(e.currentTarget||e.target||this),X(e)}function X(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function ee(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(J(t))return X(e)}}while(t=t.parentNode)}}var te=!1;var ne=function(e){function t(t){e.call(this,t),t.history&&(z=t.history),this.state={url:t.url||G()},te||("function"==typeof addEventListener&&(z||addEventListener("popstate",(function(){Z(G())})),addEventListener("click",ee)),te=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){var t=w(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){V.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;z&&(this.unlisten=z.listen((function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))}))),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),V.splice(V.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(I).sort(L).map((function(e){var r=W(t,e.props.path,e.props);if(r){if(!1!==n){var o={url:t,matches:r};return T(o,r),delete o.ref,delete o.key,D(e,o)}return e}})).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,r=e.onChange,o=t.url,i=this.getMatchingChildren(w(n),o,!0),l=i[0]||null,s=this.previousUrl;return o!==s&&(this.previousUrl=o,"function"==typeof r&&r({router:this,url:o,previous:s,active:i,current:l})),l},t}(d);ne.subscribers=q,ne.getCurrentUrl=G,ne.route=Y,ne.Router=ne,ne.Route=function(e){return _(e.component,e)},ne.Link=function(e){return _("a",T({onClick:Q},e))},ne.exec=W;const re=Symbol(),oe=Symbol(),ie=Symbol(),le=Object.getPrototypeOf,se=new WeakMap,ae=e=>e&&(se.has(e)?se.get(e):le(e)===Object.prototype||le(e)===Array.prototype),ue=e=>"object"==typeof e&&null!==e,ce=(e,t)=>{let n=!1;const r=(t,r)=>{if(!n){let n=t.a.get(e);n||(n=new Set,t.a.set(e,n)),n.add(r)}},o={f:t,get(t,n){return n===ie?e:(r(this,n),_e(t[n],this.a,this.c))},has(t,o){return o===oe?(n=!0,this.a.delete(e),!0):(r(this,o),o in t)},ownKeys(e){return r(this,re),Reflect.ownKeys(e)}};return t&&(o.set=o.deleteProperty=()=>!1),o},_e=(e,t,n)=>{if(!ae(e))return e;const r=e[ie]||e,o=(e=>Object.isFrozen(e)||Object.values(Object.getOwnPropertyDescriptors(e)).some((e=>!e.writable)))(r);let i=n&&n.get(r);return i&&i.f===o||(i=ce(r,o),i.p=new Proxy(o?(e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((e=>{e.configurable=!0})),Object.create(le(e),t)})(r):r,i),n&&n.set(r,i)),i.a=t,i.c=n,i.p},fe=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some(((e,t)=>e!==r[t]))},pe=(e,t,n,r)=>{if(Object.is(e,t))return!1;if(!ue(e)||!ue(t))return!0;const o=n.get(e);if(!o)return!0;if(r){const n=r.get(e);if(n&&n.n===t)return n.g;r.set(e,{n:t,g:!1})}let i=null;for(const l of o){const o=l===re?fe(e,t):pe(e[l],t[l],n,r);if(!0!==o&&!1!==o||(i=o),i)break}return null===i&&(i=!0),r&&r.set(e,{n:t,g:i}),i},de=(e,t=!0)=>{se.set(e,t)},he=Symbol(),ve=Symbol(),ge=Symbol(),ye=Symbol(),me=Symbol(),be=new WeakSet,we=e=>"object"==typeof e&&null!==e&&(Array.isArray(e)||!e[Symbol.iterator])&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),ke=new WeakMap;let Oe=1;const Se=new WeakMap,je=(e={})=>{if(!we(e))throw new Error("unsupported object type");const t=ke.get(e);if(t)return t;let n=Oe;const r=new Set,o=e=>{e||(e=++Oe),n!==e&&(n=e,r.forEach((t=>t(e))))},i=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e)),l=new Proxy(i,{get:(e,t,o)=>t===he?n:t===ve?r:t===ge?((e,t)=>{const r=Se.get(t);if((null==r?void 0:r[0])===n)return r[1];const o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return de(o,!0),Se.set(t,[n,o]),Reflect.ownKeys(e).forEach((t=>{const n=e[t];if(be.has(n))de(n,!1),o[t]=n;else if(we(n))if(n instanceof Promise)if(ye in n)o[t]=n[ye];else{const e=n[me]||n;Object.defineProperty(o,t,{get(){throw e}})}else n[he]?o[t]=n[ge]:o[t]=n;else o[t]=n})),Object.freeze(o),o})(e,o):e[t],deleteProperty(e,t){const n=e[t],r=null==n?void 0:n[ve];r&&r.delete(o);const i=Reflect.deleteProperty(e,t);return i&&o(),i},set(e,t,n){var r;const i=e[t];if(Object.is(i,n))return!0;const l=null==i?void 0:i[ve];return l&&l.delete(o),be.has(n)||!we(n)||(null==(r=Object.getOwnPropertyDescriptor(e,t))?void 0:r.set)?e[t]=n:n instanceof Promise?e[t]=n.then((n=>(e[t][ye]=n,o(),n))).catch((n=>{e[t][me]=n,o()})):((n=(e=>ae(e)&&e[ie]||null)(n)||n)[ve]?e[t]=n:e[t]=je(n),e[t][ve].add(o)),o(),!0}});return ke.set(e,l),Reflect.ownKeys(e).forEach((t=>{const n=Object.getOwnPropertyDescriptor(e,t);n.get||n.set?Object.defineProperty(i,t,n):l[t]=e[t]})),l},Pe=e=>e[he],Ae=e=>e[ge];var Ce,xe,Ee,Re=0,Me=[],Ue=t.__b,De=t.__r,Ne=t.diffed,Fe=t.__c,He=t.unmount;function Te(e,n){t.__h&&t.__h(xe,e,Re||n),Re=0;var r=xe.__H||(xe.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function We(e){return Re=1,Le(Je,e)}function Le(e,t,n){var r=Te(Ce++,2);return r.t=e,r.__c||(r.__=[n?n(t):Je(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=xe),r.__}function Ie(e,n){var r=Te(Ce++,3);!t.__s&&Ze(r.__H,n)&&(r.__=e,r.__H=n,xe.__H.__h.push(r))}function $e(e,n){var r=Te(Ce++,4);!t.__s&&Ze(r.__H,n)&&(r.__=e,r.__H=n,xe.__h.push(r))}function Ke(e){return Re=5,ze((function(){return{current:e}}),[])}function ze(e,t){var n=Te(Ce++,7);return Ze(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ve(e,t){return Re=8,ze((function(){return e}),t)}function qe(){Me.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Ge),e.__H.__h.forEach(Ye),e.__H.__h=[]}catch(n){e.__H.__h=[],t.__e(n,e.__v)}})),Me=[]}t.__b=function(e){xe=null,Ue&&Ue(e)},t.__r=function(e){De&&De(e),Ce=0;var t=(xe=e.__c).__H;t&&(t.__h.forEach(Ge),t.__h.forEach(Ye),t.__h=[])},t.diffed=function(e){Ne&&Ne(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(1!==Me.push(n)&&Ee===t.requestAnimationFrame||((Ee=t.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),Be&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Be&&(t=requestAnimationFrame(n))})(qe)),xe=void 0},t.__c=function(e,n){n.some((function(e){try{e.__h.forEach(Ge),e.__h=e.__h.filter((function(e){return!e.__||Ye(e)}))}catch(r){n.some((function(e){e.__h&&(e.__h=[])})),n=[],t.__e(r,e.__v)}})),Fe&&Fe(e,n)},t.unmount=function(e){He&&He(e);var n=e.__c;if(n&&n.__H)try{n.__H.__.forEach(Ge)}catch(e){t.__e(e,n.__v)}};var Be="function"==typeof requestAnimationFrame;function Ge(e){var t=xe;"function"==typeof e.__c&&e.__c(),xe=t}function Ye(e){var t=xe;e.__c=e.__(),xe=t}function Ze(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Je(e,t){return"function"==typeof t?t(e):t}function Qe(e,t){for(var n in t)e[n]=t[n];return e}function Xe(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function et(e){this.props=e}(et.prototype=new d).isPureReactComponent=!0,et.prototype.shouldComponentUpdate=function(e,t){return Xe(this.props,e)||Xe(this.state,t)};var tt=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),tt&&tt(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var nt=t.__e;t.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);nt(e,t,n)};var rt=t.unmount;function ot(){this.__u=0,this.t=null,this.__b=null}function it(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function lt(){this.u=null,this.o=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),rt&&rt(e)},(ot.prototype=new d).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=it(r.__v),i=!1,l=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=l;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},a=!0===t.__h;r.__u++||a||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(l,l)},ot.prototype.componentWillUnmount=function(){this.t=[]},ot.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=Qe({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&_(p,null,e.fallback);return o&&(o.__h=null),[_(p,null,t.__e?null:e.children),o]};var st=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(lt.prototype=new d).__e=function(e){var t=this,n=it(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),st(t,e,r)):o()};n?n(i):i()}},lt.prototype.render=function(e){this.u=null,this.o=new Map;var t=w(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},lt.prototype.componentDidUpdate=lt.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){st(e,n,t)}))};var at="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ct=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};d.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(d.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var _t=t.event;function ft(){}function pt(){return this.cancelBubble}function dt(){return this.defaultPrevented}t.event=function(e){return _t&&(e=_t(e)),e.persist=ft,e.isPropagationStopped=pt,e.isDefaultPrevented=dt,e.nativeEvent=e};var ht={configurable:!0,get:function(){return this.class}},vt=t.vnode;t.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var i=n[o];"value"===o&&"defaultValue"in n&&null==i||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!ct(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():ut.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=w(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=w(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r}t&&n.class!=n.className&&(ht.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",ht)),e.$$typeof=at,vt&&vt(e)};var gt=t.__r;t.__r=function(e){gt&&gt(e),e.__c};const yt=Symbol(),mt=Symbol(),bt="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?Ie:$e,wt=new WeakMap,kt=e=>(wt.has(e)||wt.set(e,((e,t)=>({[yt]:e,[mt]:t}))(e,Pe)),wt.get(e)),Ot=(e,t)=>{const n=Le((e=>e+1),0)[1],r=new WeakMap,o=Ke(),i=Ke(),l=Ke();bt((()=>{l.current=i.current=Ae(e)}),[e]),bt((()=>{o.current=r,i.current!==l.current&&pe(i.current,l.current,r,new WeakMap)&&(i.current=l.current,n())}));const s=null==t?void 0:t.sync,a=Ve(((e,t)=>((e,t,n)=>{let r=0;const o=e=>{n?t():(r=e,Promise.resolve().then((()=>{e===r&&t()})))};return e[ve].add(o),()=>{e[ve].delete(o)}})(e,(()=>{const n=Ae(e);l.current=n;try{if(o.current&&!pe(i.current,n,o.current,new WeakMap))return}catch(e){}i.current=n,t()}),s)),[s]),u=((e,t,n)=>{const r=Ke(0),o=e[mt](e[yt]),[i,l]=We((()=>[e,t,n,o,t(e[yt])]));let s=i[4];return i[0]!==e||i[1]!==t||i[2]!==n?(s=t(e[yt]),l([e,t,n,o,s])):o!==i[3]&&o!==r.current&&(s=t(e[yt]),Object.is(s,i[4])||l([e,t,n,o,s])),Ie((()=>{let o=!1;const i=()=>{if(!o)try{const o=t(e[yt]),i=e[mt](e[yt]);r.current=i,l((r=>r[0]!==e||r[1]!==t||r[2]!==n||Object.is(r[4],o)?r:[r[0],r[1],r[2],i,o]))}catch(e){l((e=>[...e]))}},s=n(e[yt],i);return i(),()=>{o=!0,s()}}),[e,t,n]),s})(kt(e),Ae,a);const c=ze((()=>new WeakMap),[]);return _e(u,r,c)};function St(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=St(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=St(e))&&(r&&(r+=" "),r+=t);return r}const Pt=async({url:e,username:t,password:n})=>{const r=await fetch(`https://www.schul-netz.com/${e}/loginto.php?mode=0&lang=`);if(!r.ok)throw new Error(r.statusText);const o=await r.text(),i=(new DOMParser).parseFromString(o,"text/html").querySelector('input[name="loginhash"]');if(!i)throw new Error("Failed to get loginhash input");const l=new URLSearchParams({login:t,passwort:n,loginhash:i.value}).toString(),s=await fetch(`https://www.schul-netz.com/${e}/index.php?pageid=21311`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l});if(!s.ok)throw new Error(s.statusText);if(new URL(s.url).pathname!==`/${e}/index.php`)throw new Error("INCORRECT_CREDS");const a=await s.text(),u=(new DOMParser).parseFromString(a,"text/html"),c=[...u.querySelectorAll("h3")].find((e=>/aktuelle noten/i.test(e.textContent??"")))?.nextElementSibling?.querySelector("table");if(!c)throw new Error("Could not find marks table.");const _=u.querySelector('a[href^="index.php?pageid=9999"]')?.getAttribute?.("href");if(_){const t=`https://www.schul-netz.com/${e}/${_}`;await fetch(t,{method:"HEAD"})}return[...c.rows].slice(1).filter((e=>"none"!==e.style.display&&Number.isFinite(Number.parseFloat(e.children?.[1]?.textContent?.trim()??"NaN"))))},At=je({username:"",password:"",url:"",ignoring:""});chrome.storage.local.get(["username","password","url","ignoring"],(({username:e,password:t,url:n,ignoring:r=[]})=>{"string"==typeof n&&(At.url=n),"string"==typeof t&&(At.password=t),"string"==typeof e&&(At.username=e),Array.isArray(r)&&(At.ignoring=r.join(", "))}));const Ct=e=>t=>{At[e]="password"===e?t.currentTarget.value:t.currentTarget.value.trim(),At.errorMsg=void 0},xt=()=>{chrome.storage.local.get(["url","password","username"],(({password:e,username:t,url:n})=>{if(!At.password||!At.username||!At.url)return;const{password:r}=At,o=At.url.trim().toLowerCase(),i=At.username.trim(),l=At.ignoring.toLowerCase().split(",").map((e=>e.trim())).filter((e=>""!==e));At.ignoring=l.join(", "),r===e&&i===t&&n===o?(chrome.storage.local.set({ignoring:l}),At.validSaved=!0):""!==r&&""!==i&&""!==o?Pt({url:o,username:i,password:r}).then((()=>{chrome.storage.local.set({url:o,password:r,username:i,ignoring:l}),Object.assign(At,{url:o,password:r,username:i,ignoring:l.join(", "),validSaved:!0})})).catch((e=>{At.validSaved=!1,At.errorMsg=e})):(At.validSaved=!1,At.errorMsg="A required input was empty")}))},Et=e=>{"keydown"===e.type&&"Enter"===e.key&&xt()},Rt=e=>{Ie((()=>{delete At.validSaved,delete At.errorMsg}),[]);const t=Ot(At),{username:n,password:r,ignoring:o,url:i,validSaved:l,errorMsg:s}=t;return F("div",Object.assign({class:"margin"},{children:[F("div",{children:[F("button",Object.assign({type:"button",class:"btn",onClick:()=>{Y("/")}},{children:"Go back"}),void 0),F("hr",{},void 0)]},void 0),F("div",Object.assign({onKeyDown:Et},{children:[F("div",Object.assign({class:"input-wrapper"},{children:[F("div",{children:"Username:"},void 0),F("input",{type:"text",placeholder:"Username",value:n,onInput:Ct("username")},void 0)]}),void 0),F("div",Object.assign({class:"input-wrapper"},{children:[F("div",{children:"Password:"},void 0),F("input",{type:"password",placeholder:"Password",value:r,onInput:Ct("password")},void 0)]}),void 0),F("div",Object.assign({class:"input-wrapper"},{children:[F("div",{children:"URL to schulNetz page"},void 0),F("p",{children:F("small",{children:"ausserschwyz, einsiedeln..."},void 0)},void 0),F("input",{type:"text",placeholder:"url",value:i,onInput:Ct("url")},void 0)]}),void 0),F("div",Object.assign({class:"input-wrapper"},{children:[F("div",{children:"Ignore specific courses"},void 0),F("p",{children:F("small",{children:"seperated by commas"},void 0)},void 0),F("input",{type:"text",placeholder:"sport",value:o,onInput:Ct("ignoring")},void 0)]}),void 0)]}),void 0),s&&F("div",{children:"string"==typeof s?s:s.message},void 0),F("hr",{},void 0),F("div",Object.assign({class:"input-wrapper"},{children:F("button",Object.assign({class:jt("btn",{saved:!0===l,failed:!1===l}),type:"button",onClick:xt,onAnimationEnd:()=>{delete At.validSaved}},{children:"boolean"==typeof l?l?"✓":"✗":"Save"}),void 0)}),void 0)]}),void 0)};let Mt=0;const Ut=e=>{const t=Number.parseFloat(e);return Math.round(2*t)/2},Dt=e=>{for(const t of Object.getOwnPropertyNames(e))delete e[t]},Nt=({rows:e})=>Array.isArray(e)?F("div",Object.assign({class:"table"},{children:[F("div",Object.assign({class:"thead"},{children:F("div",Object.assign({class:"tr"},{children:[F("div",{children:"Course"},void 0),F("div",{children:"Mark"},void 0)]}),void 0)}),void 0),F("div",{children:e.map((({mark:e,courseName:t,key:n})=>F("div",Object.assign({class:"tr"},{children:[F("div",{children:t},void 0),F("div",{children:e},void 0)]}),n)))},void 0)]}),void 0):null,Ft=({state:e})=>{const t=Ot(e),{average:n,averageFailing:r,compDub:o,compDubFailing:i,failingAmount:l,failingAmountFailing:s,rows:a,failingRows:u,amountIsPlural:c,currentlyFailing:_}=t.marks;return F("div",{children:[F("h3",Object.assign({class:_?"failing":"passing"},{children:["Summary:",F("div",{children:_?"Failing":"Passing"},void 0)]}),void 0),F("hr",{},void 0),F("h3",Object.assign({class:r?"failing":"passing"},{children:["Average:",F("div",{children:n},void 0)]}),void 0),F("hr",{},void 0),F("h3",Object.assign({class:i?"failing":"passing"},{children:["Compensate double:",F("div",{children:o},void 0)]}),void 0),F("hr",{},void 0),F("h3",Object.assign({class:s?"failing":"passing"},{children:["Failing in ",l," course",c?"s":""]}),void 0),u&&u.length>0?F(Nt,{rows:u},void 0):F("hr",{},void 0),Array.isArray(a)&&F(p,{children:[F("h3",{children:"All marks"},void 0),F("div",{children:["Amount: ",a.length]},void 0),F(Nt,{rows:a},void 0)]},void 0)]},void 0)},Ht=je({stage:0,newVersion:!1}),Tt=()=>{chrome.storage.local.get(["url","password","username","ignoring"],(({url:e,password:t,username:n,ignoring:r=[]})=>{e&&t&&n?Pt({url:e,username:n,password:t}).then((e=>{Dt(Ht),Object.assign(Ht,((e,t)=>{const n=[],r=[];for(const o of e){const e=o.firstElementChild?.lastChild?.textContent?.trim(),i=o.children[1]?.textContent;if(e&&i&&!t.includes(e.toLowerCase())){const t=Ut(i),o={courseName:e,mark:t,key:""+Mt++};n.push(o),t<4&&r.push(o)}}if(n.length<=0)return{stage:2};let o=0;for(const{mark:e}of n)o+=e;o/=n.length;const i=o.toFixed(3),l=o<4;let s=0;for(const{mark:e}of n)s+=(e-4)*(e<4?2:1);const a=s<0,u=r.length,c=u>3,_=1!==u,f=l||a||c;return{marks:{average:i,averageFailing:l,compDub:String(s),compDubFailing:a,failingAmount:String(u),failingAmountFailing:c,rows:n,failingRows:r,amountIsPlural:_,currentlyFailing:f},stage:4}})(e,r))})).catch((e=>{Dt(Ht),"INCORRECT_CREDS"===e.message?Ht.stage=3:Object.assign(Ht,{stage:1,error:e})})):Ht.stage=3}))},Wt=e=>{Ie((()=>{Dt(Ht),Object.assign(Ht,{stage:0,newVersion:!1}),Tt(),(async()=>fetch("https://api.github.com/repos/melusc/schulnetz-extension/releases/latest").then((async e=>e.json())).then((e=>{const t=e.tag_name;return"string"==typeof t&&t>chrome.runtime.getManifest().version})))().then((e=>{Ht.newVersion=e}))}),[]);const t=Ot(Ht),{stage:n,newVersion:r}=t;return F("div",Object.assign({class:"margin"},{children:[F("div",{children:[F("button",Object.assign({class:"btn",type:"button",onClick:()=>{Y("/settings")}},{children:"Open settings"}),void 0),F("hr",{},void 0)]},void 0),r&&F("div",Object.assign({id:"new-version"},{children:F("a",Object.assign({href:"https://github.com/melusc/schulNetz-extension/releases/latest",rel:"noopener noreferrer"},{children:"New version available"}),void 0)}),void 0),0===n&&F(p,{children:[F("div",Object.assign({class:"loading-outer"},{children:F("div",{class:"loading-inner"},void 0)}),void 0),F("hr",{},void 0)]},void 0),3===n&&F("div",{children:[F("div",{children:"You are logged out."},void 0),F("div",{children:["Login ",F("a",Object.assign({href:"/settings"},{children:"here"}),void 0),"."]},void 0)]},void 0),4===Ht.stage&&F(Ft,{state:Ht},void 0),2===Ht.stage&&F(p,{children:[F("div",{children:"You don't have any marks"},void 0),F("hr",{},void 0)]},void 0),1===t.stage&&F(p,{children:[F("div",{children:"string"==typeof t.error?t.error:t.error.message},void 0),F("hr",{},void 0)]},void 0),F("small",{children:chrome.runtime.getManifest().version},void 0)]}),void 0)};U(F((()=>F(ne,{children:[F(Wt,{path:"/popup.html"},void 0),F(Wt,{path:"/"},void 0),F(Rt,{path:"/settings"},void 0)]},void 0)),{},void 0),document.body)})();